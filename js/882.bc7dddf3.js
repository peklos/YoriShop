"use strict";(self["webpackChunkyorishop"]=self["webpackChunkyorishop"]||[]).push([[853,882],{7882:function(t,e,r){r.d(e,{k:function(){return a}});r(4114),r(8111),r(8237),r(3579);var s=r(2261);const a=(0,s.nY)("user",{state:()=>{const t=localStorage.getItem("userCart"),e=localStorage.getItem("userFav");return{cart:t?JSON.parse(t):[],favorite:e?JSON.parse(e):[],purchase:{}}},actions:{productSumDecrease(t){t.sum>1?(t.sum-=1,this.saveToLocalStorege("userCart",this.cart)):this.toggleMoveToCard(t)},productSumIncrease(t){t.sum+=1,this.saveToLocalStorege("userCart",this.cart)},toggleMoveToCard(t){if(this.isCartInclude(t)){const e=this.cart.findIndex((e=>e.id===t.id));this.cart.splice(e,1)}else this.cart.push({...t,sum:1});this.saveToLocalStorege("userCart",this.cart)},toggleMoveToFavorite(t){if(this.isFavInclude(t)){const e=this.favorite.findIndex((e=>e.id===t.id));this.favorite.splice(e,1)}else this.favorite.push(t);this.saveToLocalStorege("userFav",this.favorite)},saveToLocalStorege(t,e){localStorage.setItem(t,JSON.stringify(e))},getCurrentPrice(t){return t.new_price*t.sum}},getters:{orderCost(){return this.cart.reduce(((t,e)=>t+this.getCurrentPrice(e)),0)},isCartInclude:t=>e=>t.cart.some((t=>t.id===e.id)),isFavInclude:t=>e=>t.favorite.some((t=>t.id===e.id)),totalCartCounter(){return this.cart.length},totalFavCounter(){return this.favorite.length}}})}}]);
//# sourceMappingURL=882.bc7dddf3.js.map