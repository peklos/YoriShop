{"version":3,"file":"js/882.927162a1.js","mappings":"qLAEO,MAAMA,GAAeC,EAAAA,EAAAA,IAAY,OAAQ,CAC9CC,MAAOA,KACL,MAAMC,EAAYC,aAAaC,QAAQ,YACjCC,EAAWF,aAAaC,QAAQ,WAEtC,MAAO,CACLE,KAAMJ,EAAYK,KAAKC,MAAMN,GAAa,GAC1CO,SAAUJ,EAAWE,KAAKC,MAAMH,GAAY,KAGhDK,QAAS,CACPC,gBAAAA,CAAiBC,GACf,GAAKC,KAAKC,cAAcF,GAEjB,CACL,MAAMG,EAAQF,KAAKP,KAAKU,WAAWC,GAASA,EAAKC,KAAON,EAAQM,KAEhEL,KAAKP,KAAKa,OAAOJ,EAAO,EAC1B,MALEF,KAAKP,KAAKc,KAAK,IAAKR,EAASS,IAAK,IAOpCR,KAAKS,mBAAmB,WAAYT,KAAKP,KAC3C,EAEAiB,oBAAAA,CAAqBX,GACnB,GAAKC,KAAKW,aAAaZ,GAEhB,CACL,MAAMG,EAAQF,KAAKJ,SAASO,WAAWC,GAASA,EAAKC,KAAON,EAAQM,KAEpEL,KAAKJ,SAASU,OAAOJ,EAAO,EAC9B,MALEF,KAAKJ,SAASW,KAAKR,GAOrBC,KAAKS,mBAAmB,UAAWT,KAAKJ,SAC1C,EAEAa,kBAAAA,CAAmBG,EAAKC,GACtBvB,aAAawB,QAAQF,EAAKlB,KAAKqB,UAAUF,GAC3C,GAEFG,QAAS,CACPf,cAAgBb,GAAWW,GAClBX,EAAMK,KAAKwB,MAAMb,GAASA,EAAKC,KAAON,EAAQM,KAGvDM,aAAevB,GAAWW,GACjBX,EAAMQ,SAASqB,MAAMb,GAASA,EAAKC,KAAON,EAAQM,KAG3Da,gBAAAA,GACE,OAAOlB,KAAKP,KAAK0B,MACnB,EAEAC,eAAAA,GACE,OAAOpB,KAAKJ,SAASuB,MACvB,I","sources":["webpack://yorishop/./src/stores/userStore.js"],"sourcesContent":["import { defineStore } from \"pinia\";\r\n\r\nexport const useUserStore = defineStore(\"user\", {\r\n  state: () => {\r\n    const savedCart = localStorage.getItem(\"userCart\");\r\n    const savedFav = localStorage.getItem(\"userFav\");\r\n\r\n    return {\r\n      cart: savedCart ? JSON.parse(savedCart) : [],\r\n      favorite: savedFav ? JSON.parse(savedFav) : [],\r\n    };\r\n  },\r\n  actions: {\r\n    toggleMoveToCard(product) {\r\n      if (!this.isCartInclude(product)) {\r\n        this.cart.push({ ...product, sum: 1 });\r\n      } else {\r\n        const index = this.cart.findIndex((item) => item.id === product.id);\r\n\r\n        this.cart.splice(index, 1);\r\n      }\r\n\r\n      this.saveToLocalStorege(\"userCart\", this.cart);\r\n    },\r\n\r\n    toggleMoveToFavorite(product) {\r\n      if (!this.isFavInclude(product)) {\r\n        this.favorite.push(product);\r\n      } else {\r\n        const index = this.favorite.findIndex((item) => item.id === product.id);\r\n\r\n        this.favorite.splice(index, 1);\r\n      }\r\n\r\n      this.saveToLocalStorege(\"userFav\", this.favorite);\r\n    },\r\n\r\n    saveToLocalStorege(key, data) {\r\n      localStorage.setItem(key, JSON.stringify(data));\r\n    },\r\n  },\r\n  getters: {\r\n    isCartInclude: (state) => (product) => {\r\n      return state.cart.some((item) => item.id === product.id);\r\n    },\r\n\r\n    isFavInclude: (state) => (product) => {\r\n      return state.favorite.some((item) => item.id === product.id);\r\n    },\r\n\r\n    totalCartCounter() {\r\n      return this.cart.length;\r\n    },\r\n\r\n    totalFavCounter() {\r\n      return this.favorite.length;\r\n    },\r\n  },\r\n});\r\n"],"names":["useUserStore","defineStore","state","savedCart","localStorage","getItem","savedFav","cart","JSON","parse","favorite","actions","toggleMoveToCard","product","this","isCartInclude","index","findIndex","item","id","splice","push","sum","saveToLocalStorege","toggleMoveToFavorite","isFavInclude","key","data","setItem","stringify","getters","some","totalCartCounter","length","totalFavCounter"],"sourceRoot":""}