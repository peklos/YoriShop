{"version":3,"file":"js/882.20bf524f.js","mappings":"qLAEO,MAAMA,GAAeC,EAAAA,EAAAA,IAAY,OAAQ,CAC9CC,MAAOA,KACL,MAAMC,EAAYC,aAAaC,QAAQ,YACjCC,EAAWF,aAAaC,QAAQ,WAEtC,MAAO,CACLE,KAAMJ,EAAYK,KAAKC,MAAMN,GAAa,GAC1CO,SAAUJ,EAAWE,KAAKC,MAAMH,GAAY,GAC5CK,SAAU,CAAC,IAGfC,QAAS,CACPC,gBAAAA,CAAiBC,GACf,GAAKC,KAAKC,cAAcF,GAEjB,CACL,MAAMG,EAAQF,KAAKR,KAAKW,WAAWC,GAASA,EAAKC,KAAON,EAAQM,KAEhEL,KAAKR,KAAKc,OAAOJ,EAAO,EAC1B,MALEF,KAAKR,KAAKe,KAAK,IAAKR,EAASS,IAAK,IAOpCR,KAAKS,mBAAmB,WAAYT,KAAKR,KAC3C,EAEAkB,oBAAAA,CAAqBX,GACnB,GAAKC,KAAKW,aAAaZ,GAEhB,CACL,MAAMG,EAAQF,KAAKL,SAASQ,WAAWC,GAASA,EAAKC,KAAON,EAAQM,KAEpEL,KAAKL,SAASW,OAAOJ,EAAO,EAC9B,MALEF,KAAKL,SAASY,KAAKR,GAOrBC,KAAKS,mBAAmB,UAAWT,KAAKL,SAC1C,EAEAc,kBAAAA,CAAmBG,EAAKC,GACtBxB,aAAayB,QAAQF,EAAKnB,KAAKsB,UAAUF,GAC3C,GAEFG,QAAS,CACPf,cAAgBd,GAAWY,GAClBZ,EAAMK,KAAKyB,MAAMb,GAASA,EAAKC,KAAON,EAAQM,KAGvDM,aAAexB,GAAWY,GACjBZ,EAAMQ,SAASsB,MAAMb,GAASA,EAAKC,KAAON,EAAQM,KAG3Da,gBAAAA,GACE,OAAOlB,KAAKR,KAAK2B,MACnB,EAEAC,eAAAA,GACE,OAAOpB,KAAKL,SAASwB,MACvB,I","sources":["webpack://yorishop/./src/stores/userStore.js"],"sourcesContent":["import { defineStore } from \"pinia\";\r\n\r\nexport const useUserStore = defineStore(\"user\", {\r\n  state: () => {\r\n    const savedCart = localStorage.getItem(\"userCart\");\r\n    const savedFav = localStorage.getItem(\"userFav\");\r\n\r\n    return {\r\n      cart: savedCart ? JSON.parse(savedCart) : [],\r\n      favorite: savedFav ? JSON.parse(savedFav) : [],\r\n      purchase: {},\r\n    };\r\n  },\r\n  actions: {\r\n    toggleMoveToCard(product) {\r\n      if (!this.isCartInclude(product)) {\r\n        this.cart.push({ ...product, sum: 1 });\r\n      } else {\r\n        const index = this.cart.findIndex((item) => item.id === product.id);\r\n\r\n        this.cart.splice(index, 1);\r\n      }\r\n\r\n      this.saveToLocalStorege(\"userCart\", this.cart);\r\n    },\r\n\r\n    toggleMoveToFavorite(product) {\r\n      if (!this.isFavInclude(product)) {\r\n        this.favorite.push(product);\r\n      } else {\r\n        const index = this.favorite.findIndex((item) => item.id === product.id);\r\n\r\n        this.favorite.splice(index, 1);\r\n      }\r\n\r\n      this.saveToLocalStorege(\"userFav\", this.favorite);\r\n    },\r\n\r\n    saveToLocalStorege(key, data) {\r\n      localStorage.setItem(key, JSON.stringify(data));\r\n    },\r\n  },\r\n  getters: {\r\n    isCartInclude: (state) => (product) => {\r\n      return state.cart.some((item) => item.id === product.id);\r\n    },\r\n\r\n    isFavInclude: (state) => (product) => {\r\n      return state.favorite.some((item) => item.id === product.id);\r\n    },\r\n\r\n    totalCartCounter() {\r\n      return this.cart.length;\r\n    },\r\n\r\n    totalFavCounter() {\r\n      return this.favorite.length;\r\n    },\r\n  },\r\n});\r\n"],"names":["useUserStore","defineStore","state","savedCart","localStorage","getItem","savedFav","cart","JSON","parse","favorite","purchase","actions","toggleMoveToCard","product","this","isCartInclude","index","findIndex","item","id","splice","push","sum","saveToLocalStorege","toggleMoveToFavorite","isFavInclude","key","data","setItem","stringify","getters","some","totalCartCounter","length","totalFavCounter"],"sourceRoot":""}